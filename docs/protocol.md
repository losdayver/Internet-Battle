Описание протокола игры

Пакеты клиента:

Каждый пакет представляет собой json объект со следующими полями:
- meta-data
- type
- <заголовки конкретного типа пакета>

meta-data - объект, содержащий мета ифнормацию, объект включается в каждый пакет 
(кроме первичного подключения с помощью connection)

type - строковое поле, описывающее тип пакета

<заголовки конкретного типа пакета> - уникальны для каждого конкретного типа пакета

Список типов пакетов:

connection: данный тип отвечает за подключение к серверу и отключение от сервера
структура пакета:

данный пакет оправляется серверу при подключении
{
    "type": "connection",
    "action": "connect",
    "name": "<имя игрока>"
}

данный пакет оправляется серверу при отключении
{
    "metadata" : ... ,
    "type": "connection",
    "action": "disconnect"
}








Пакеты сервера:
- type
- <заголовки конкретного типа пакета>

type - строковое поле, описывающее тип пакета
<заголовки конкретного типа пакета> - уникальны для каждого конкретного типа пакета

Сервер принял клиента в комнату. Клиент должен запомнить uid - уникальный идентификатор клиента
{
    "type": "connection",
    "action": "accept",
    "uid": <некоторая уникальаня последовательность символов>
}

Сервер отказался подключать клиента к серверу
{
    "type": "connection",
    "action": "reject",
    "reason": "<причина отказа>"
}

Сервер отправляет клиенту данные игровой комнаты
{
    "type": "room_data",

    "static":
    {
        "method": "file",
        "file_name": "map1.json"
    },
    "dynamic": [
        {
            "type": box,
            "id": 12,
            "position": [120, 12],
            "vector": [10, 0]
        }
    ],
    "scenic": [

    ]
}